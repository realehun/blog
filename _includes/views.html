<!-- Views Counter using goatcounter. Ref in _layouts/post.html -->

<script>
  const r = new XMLHttpRequest();
  r.addEventListener('load', function() {
      document.querySelector('#views').innerText = JSON.parse(this.responseText).count
  });
  const uri = location.pathname.replace(/\/$/, "");
  r.open('GET', 'https://{{ site.goatcounter.id }}.goatcounter.com/counter/' + encodeURIComponent(uri) + '.json');
  r.send();
</script>

<span>
  <em id="views">
    âˆž
  </em>
</span>
